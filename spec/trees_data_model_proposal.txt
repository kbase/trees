

This is a working draft of a proposed schema for a CDM extension to support Trees
and Multiple sequence alignments.


Alignment
=====================================
-alignmentID (will be unique kbase id: 'kb|ali.XXXXX')
-alignment (file/blob)
-nRows (number of rows in the alignment)
-metaInfoHash (e.g. name, human readable description, etc)
-timestamp
-isActive (either boolean or for our own reference, a version number)
-isConcatenation (boolean value that indicates if leaves map to single sequences, or multiple sequences)
-alignmentMethod (string that either maps to another dataase, to capture workflows, or is a simple method name)
-alignmentParameters (hash that stores parameter values used in the alignment)
-alignmentProtocolDescription (human readable, how did you get here with these sequences? could also map to a separate table)
-source_db (for indicating, if needed, where this alignment originated from, eg MO, SEED)
-source_db_id (for indicating the ID in the db where this alignment originated from)



AlignmentRowComponent
=====================================
-alignmentID (needed for efficiency)
-alignmentRow (maybe needed for efficiency)
-alignmentRowID (will be unique kbase id: 'kb|ali.XXXXX.row.XXX')
-concatenationOrder (ordering starting from left to right in alignment row)
-label (text description copied from original fasta file)
-sequenceID (MD5 for protein, probably contigChunk for DNA/RNA)
-kbaseID (kbaseID for the sequence that was actually used in the alignment)
-isProtein (bool)
-begin
-end



Tree
=====================================
-treeID (will be a unique kbase id:  e.g. 'kb|tree.XXXX')
-newick (leaf nodes provide a key into the AlignmentRowComponent table)
-alignmentID
-metaInfoHash (e.g. name, human readable description, etc)
-timestamp
-isActive (either boolean or for our own reference, a version number)
-treeGenerationMethod
-treeGenerationParameters
-source_db (for indicating, if needed, where this alignment originated from, eg MO, SEED)
-source_db_id (for indicating the ID in the db where this alignment originated from)



==== Computed Tables for Performance ???

Alignment2Tree
-alignmentID
-treeID

Domain2Alignment
-domainID
-alignmentID
-isComplete

Protein2Alignment
-MD5
-alignmentID
-isComplete

ContigChunk2Alignment
-contigChunkID
-alignmentID
-isComplete